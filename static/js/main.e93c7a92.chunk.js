(this.webpackJsonpclick=this.webpackJsonpclick||[]).push([[0],{20:function(e,t,c){},22:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),r=c(14),a=c.n(r),o=c(7),l=(c(20),c(3)),j=c(13),u=c(5),b=c(15),s=c(12),O=c.n(s),h=O.a.mark(d);function d(e,t){return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Math.floor(Math.random()*(t-e+1)+e);case 3:c.next=0;break;case 5:case"end":return c.stop()}}),h)}function f(e,t){var c=Object(n.useRef)();Object(n.useEffect)((function(){c.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){c.current()}),t);return function(){return clearInterval(e)}}}),[t])}var v=c(8),g=c(9),w=c(2),m=c(6),p=Object(m.a)("rowCount"),x=Object(m.a)("colCount"),D=Object(m.a)("cells"),C=function(){function e(t,c){var n=this;Object(v.a)(this,e),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,x,{writable:!0,value:void 0}),Object.defineProperty(this,D,{writable:!0,value:void 0}),this.getCellNum=function(e,t){return 0<=e&&e<Object(w.a)(n,p)[p]&&0<=t&&t<Object(w.a)(n,x)[x]?Object(w.a)(n,D)[D][e][t]:null},Object(w.a)(this,p)[p]=t,Object(w.a)(this,x)[x]=c,Object(w.a)(this,D)[D]=[];for(var i=1,r=0;r<t;r++){for(var a=[],o=0;o<c;o++)a.push(i++);Object(w.a)(this,D)[D].push(a)}}return Object(g.a)(e,[{key:"rowCount",get:function(){return Object(w.a)(this,p)[p]}},{key:"colCount",get:function(){return Object(w.a)(this,x)[x]}},{key:"cells",get:function(){return Object(w.a)(this,D)[D]}}]),e}(),k=function e(t){Object(v.a)(this,e),this.value=t,this.next=null},N=Object(m.a)("head"),S=Object(m.a)("tail"),y=Object(m.a)("board"),P=Object(m.a)("occupiedCellNums"),R=Object(m.a)("direction"),L=Object(m.a)("wrappedMode"),E=Object(m.a)("updateSnake"),U=Object(m.a)("getNext"),F=function(){function e(t,c,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Object(v.a)(this,e),Object.defineProperty(this,N,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:function(e,t){var c=e.tgtRow,n=e.tgtCol,r=e.tgtCellNum,a=new k({row:c,col:n,cellNum:r});Object(w.a)(i,N)[N].next=a,Object(w.a)(i,N)[N]=a,Object(w.a)(i,P)[P].add(r),t||(Object(w.a)(i,P)[P].delete(Object(w.a)(i,S)[S].value.cellNum),Object(w.a)(i,S)[S]=Object(w.a)(i,S)[S].next)}}),Object.defineProperty(this,U,{writable:!0,value:function(){var t=Object(w.a)(i,R)[R]===e.Direction.Down?1:Object(w.a)(i,R)[R]===e.Direction.Up?-1:0,c=Object(w.a)(i,R)[R]===e.Direction.Right?1:Object(w.a)(i,R)[R]===e.Direction.Left?-1:0,n=Object(w.a)(i,N)[N].value.row+t,r=Object(w.a)(i,N)[N].value.col+c;return!Object(w.a)(i,y)[y].getCellNum(n,r)&&Object(w.a)(i,L)[L]&&(1===t?n=0:-1===t?n=Object(w.a)(i,y)[y].rowCount-1:1===c?r=0:-1===c&&(r=Object(w.a)(i,y)[y].colCount-1)),{tgtRow:n,tgtCol:r}}});var a=new k({row:c,col:n,cellNum:t.getCellNum(c,n)});Object(w.a)(this,N)[N]=a,Object(w.a)(this,S)[S]=a,Object(w.a)(this,y)[y]=t,Object(w.a)(this,P)[P]=new Set([a.value.cellNum]),Object(w.a)(this,R)[R]=e.Direction.Right,Object(w.a)(this,L)[L]=r}return Object(g.a)(e,[{key:"changeDirection",value:function(e){Object(w.a)(this,R)[R]=e}},{key:"occupiedCellNums",get:function(){return Object(w.a)(this,P)[P]}},{key:"move",value:function(e){var t=Object(w.a)(this,U)[U](),c=t.tgtRow,n=t.tgtCol,i=e(c,n),r=i.tgtCellNum,a=i.grow;r&&Object(w.a)(this,E)[E]({tgtRow:c,tgtCol:n,tgtCellNum:r},a)}}]),e}();F.Direction={Up:"UP",Down:"DOWN",Left:"LEFT",Right:"RIGHT"};var I=c.p+"static/media/game-over-svgrepo-com.642d6d29.svg",T=(c(22),c(1));var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debug,c=void 0!==t&&t,i=Object(n.useState)(d(1,100)),r=Object(u.a)(i,1),a=r[0],o=Object(n.useState)(new C(10,10)),l=Object(u.a)(o,1),s=l[0],O=Object(n.useState)(new F(s,2,2)),h=Object(u.a)(O,1),v=h[0],g=Object(n.useState)(new Set([a.next().value])),w=Object(u.a)(g,2),m=w[0],p=w[1],x=Object(n.useState)(v.occupiedCellNums),D=Object(u.a)(x,2),k=D[0],N=D[1],S=Object(n.useState)(!0),y=Object(u.a)(S,2),P=y[0],R=y[1],L=Object(b.useSwipeable)({onSwipedUp:function(){return v.changeDirection(F.Direction.Up)},onSwipedRight:function(){return v.changeDirection(F.Direction.Right)},onSwipedDown:function(){return v.changeDirection(F.Direction.Down)},onSwipedLeft:function(){return v.changeDirection(F.Direction.Left)},preventDefaultTouchmoveEvent:!0}),E=function(e){var t,c="ArrowUp"===(t=e.key)?F.Direction.Up:"ArrowRight"===t?F.Direction.Right:"ArrowDown"===t?F.Direction.Down:"ArrowLeft"===t?F.Direction.Left:"";c&&v.changeDirection(c)};function U(){R(!1)}function A(){v.move((function(e,t){var c=s.getCellNum(e,t);return c?k.has(c)?(U(),{}):m.has(c)?(p(new Set([a.next().value])),{tgtCellNum:c,grow:!0}):{tgtCellNum:c,grow:!1}:(U(),{})})),N(new Set(v.occupiedCellNums))}function M(e){return k.has(e)?"cell cell--snake":m.has(e)?"cell cell--food":"cell"}return Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){return E(e)}))}),[]),f((function(){A()}),P?200:null),Object(T.jsxs)("div",Object(j.a)(Object(j.a)({id:"snake-game"},L),{},{children:[Object(T.jsx)("h1",{children:"Snake"}),c&&Object(T.jsx)("button",{onClick:A,children:"Step"}),Object(T.jsx)("div",{className:"snake-game__board",children:s.cells.map((function(e,t){return Object(T.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(T.jsx)("div",{className:M(e),children:c&&e},t)}))},t)}))}),!P&&Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("img",{id:"game-over",src:I,alt:"game over"})})]}))};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.debug;return Object(T.jsx)("div",{id:"nonogram-game",children:Object(T.jsx)("h1",{children:"Snake"})})}c(24);var H=function(){return Object(T.jsxs)("div",{className:"app-container",children:[Object(T.jsxs)("header",{children:[Object(T.jsx)("span",{children:"Games"}),Object(T.jsx)("nav",{children:Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:Object(T.jsx)(o.b,{to:"/",children:"Home"})}),Object(T.jsx)("li",{children:Object(T.jsx)(o.b,{to:"/snake",children:"Snake"})}),Object(T.jsx)("li",{children:Object(T.jsx)(o.b,{to:"/nonogram",children:"Nonogram"})})]})})]}),Object(T.jsx)("main",{children:Object(T.jsxs)(l.c,{children:[Object(T.jsx)(l.a,{path:"/",element:Object(T.jsx)("h2",{children:"Here be games"})}),Object(T.jsx)(l.a,{path:"/snake",element:Object(T.jsx)(A,{})}),Object(T.jsx)(l.a,{path:"/nonogram",element:Object(T.jsx)(M,{})})]})})]})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,26)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),r(e),a(e)}))};a.a.render(Object(T.jsx)(i.a.StrictMode,{children:Object(T.jsx)(o.a,{children:Object(T.jsx)(H,{})})}),document.getElementById("root")),B()}},[[25,1,2]]]);
//# sourceMappingURL=main.e93c7a92.chunk.js.map