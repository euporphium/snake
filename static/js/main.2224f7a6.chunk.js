(this.webpackJsonpclick=this.webpackJsonpclick||[]).push([[0],{20:function(e,t,c){},22:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),r=c(14),a=c.n(r),o=c(7),l=(c(20),c(3)),u=c(13),j=c(5),b=c(15),s=c(12),O=c.n(s),h=O.a.mark(d);function d(e,t){return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Math.floor(Math.random()*(t-e+1)+e);case 3:c.next=0;break;case 5:case"end":return c.stop()}}),h)}function f(e,t){var c=Object(n.useRef)();Object(n.useEffect)((function(){c.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){c.current()}),t);return function(){return clearInterval(e)}}}),[t])}var v=c(8),w=c(9),g=c(1),p=c(6),m=Object(p.a)("rowCount"),x=Object(p.a)("colCount"),D=Object(p.a)("cells"),k=function(){function e(t,c){var n=this;Object(v.a)(this,e),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,x,{writable:!0,value:void 0}),Object.defineProperty(this,D,{writable:!0,value:void 0}),this.getCellNum=function(e,t){return 0<=e&&e<Object(g.a)(n,m)[m]&&0<=t&&t<Object(g.a)(n,x)[x]?Object(g.a)(n,D)[D][e][t]:null},Object(g.a)(this,m)[m]=t,Object(g.a)(this,x)[x]=c,Object(g.a)(this,D)[D]=[];for(var i=1,r=0;r<t;r++){for(var a=[],o=0;o<c;o++)a.push(i++);Object(g.a)(this,D)[D].push(a)}}return Object(w.a)(e,[{key:"rowCount",get:function(){return Object(g.a)(this,m)[m]}},{key:"colCount",get:function(){return Object(g.a)(this,x)[x]}},{key:"cells",get:function(){return Object(g.a)(this,D)[D]}}]),e}(),N=function e(t){Object(v.a)(this,e),this.value=t,this.next=null},S=Object(p.a)("head"),y=Object(p.a)("tail"),C=Object(p.a)("board"),P=Object(p.a)("occupiedCellNums"),R=Object(p.a)("direction"),L=Object(p.a)("wrappedMode"),U=Object(p.a)("updateSnake"),E=Object(p.a)("getNext"),F=function(){function e(t,c,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Object(v.a)(this,e),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,U,{writable:!0,value:function(e,t){var c=e.row,n=e.col,r=e.cellNum,a=new N({row:c,col:n,cellNum:r});Object(g.a)(i,S)[S].next=a,Object(g.a)(i,S)[S]=a,Object(g.a)(i,P)[P].add(r),t||(Object(g.a)(i,P)[P].delete(Object(g.a)(i,y)[y].value.cellNum),Object(g.a)(i,y)[y]=Object(g.a)(i,y)[y].next)}}),Object.defineProperty(this,E,{writable:!0,value:function(){var t=Object(g.a)(i,R)[R]===e.Direction.Down?1:Object(g.a)(i,R)[R]===e.Direction.Up?-1:0,c=Object(g.a)(i,R)[R]===e.Direction.Right?1:Object(g.a)(i,R)[R]===e.Direction.Left?-1:0,n=Object(g.a)(i,S)[S].value.row+t,r=Object(g.a)(i,S)[S].value.col+c;return!Object(g.a)(i,C)[C].getCellNum(n,r)&&Object(g.a)(i,L)[L]&&(1===t?n=0:-1===t?n=Object(g.a)(i,C)[C].rowCount-1:1===c?r=0:-1===c&&(r=Object(g.a)(i,C)[C].colCount-1)),{tgtRow:n,tgtCol:r}}});var a=new N({row:c,col:n,cellNum:t.getCellNum(c,n)});Object(g.a)(this,S)[S]=a,Object(g.a)(this,y)[y]=a,Object(g.a)(this,C)[C]=t,Object(g.a)(this,P)[P]=new Set([a.value.cellNum]),Object(g.a)(this,R)[R]=e.Direction.Right,Object(g.a)(this,L)[L]=r}return Object(w.a)(e,[{key:"changeDirection",value:function(e){Object(g.a)(this,R)[R]=e}},{key:"occupiedCellNums",get:function(){return Object(g.a)(this,P)[P]}},{key:"move",value:function(e){var t=Object(g.a)(this,E)[E](),c=e(t.tgtRow,t.tgtCol),n=c.row,i=c.col,r=c.cellNum,a=c.grow;r&&Object(g.a)(this,U)[U]({row:n,col:i,cellNum:r},a)}}]),e}();F.Direction={Up:"UP",Down:"DOWN",Left:"LEFT",Right:"RIGHT"};c(22);var I=c(2);var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debug,c=void 0!==t&&t,i=Object(n.useState)(d(1,100)),r=Object(j.a)(i,1),a=r[0],o=Object(n.useState)(new k(10,10)),l=Object(j.a)(o,1),s=l[0],O=Object(n.useState)(new F(s,2,2)),h=Object(j.a)(O,1),v=h[0],w=Object(n.useState)(new Set([a.next().value])),g=Object(j.a)(w,2),p=g[0],m=g[1],x=Object(n.useState)(v.occupiedCellNums),D=Object(j.a)(x,2),N=D[0],S=D[1],y=Object(n.useState)(!0),C=Object(j.a)(y,2),P=C[0],R=C[1],L=Object(b.useSwipeable)({onSwipedUp:function(){return v.changeDirection(F.Direction.Up)},onSwipedRight:function(){return v.changeDirection(F.Direction.Right)},onSwipedDown:function(){return v.changeDirection(F.Direction.Down)},onSwipedLeft:function(){return v.changeDirection(F.Direction.Left)}}),U=function(e){var t,c="ArrowUp"===(t=e.key)?F.Direction.Up:"ArrowRight"===t||"ArrowDown"===t?F.Direction.Right:"ArrowLeft"===t?F.Direction.Left:"";c&&v.changeDirection(c)};function E(){R(!1)}function A(){v.move((function(e,t){var c=s.getCellNum(e,t);return c?N.has(c)?(E(),{}):p.has(c)?(m(new Set([a.next().value])),{row:e,col:t,cellNum:c,grow:!0}):{row:e,col:t,cellNum:c,grow:!1}:(E(),{})})),S(new Set(v.occupiedCellNums))}function M(e){return N.has(e)?"cell cell--snake":p.has(e)?"cell cell--food":"cell"}return Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){return U(e)}))}),[]),f((function(){A()}),P?200:null),Object(I.jsxs)("div",Object(u.a)(Object(u.a)({id:"snake-game"},L),{},{children:[Object(I.jsx)("h1",{children:"Snake"}),c&&Object(I.jsx)("button",{onClick:A,children:"Step"}),Object(I.jsx)("div",{className:"snake-game__board",children:s.cells.map((function(e,t){return Object(I.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(I.jsx)("div",{className:M(e),children:c&&e},t)}))},t)}))})]}))};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.debug;return Object(I.jsx)("div",{id:"nonogram-game",children:Object(I.jsx)("h1",{children:"Snake"})})}c(24);var T=function(){return Object(I.jsxs)("div",{className:"app-container",children:[Object(I.jsxs)("header",{children:[Object(I.jsx)("span",{children:"Games"}),Object(I.jsx)("nav",{children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/",children:"Home"})}),Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/snake",children:"Snake"})}),Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/nonogram",children:"Nonogram"})})]})})]}),Object(I.jsx)("main",{children:Object(I.jsxs)(l.c,{children:[Object(I.jsx)(l.a,{path:"/",element:Object(I.jsx)(I.Fragment,{})}),Object(I.jsx)(l.a,{path:"/snake",element:Object(I.jsx)(A,{})}),Object(I.jsx)(l.a,{path:"/nonogram",element:Object(I.jsx)(M,{})})]})})]})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,26)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),r(e),a(e)}))};a.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(o.a,{children:Object(I.jsx)(T,{})})}),document.getElementById("root")),B()}},[[25,1,2]]]);
//# sourceMappingURL=main.2224f7a6.chunk.js.map