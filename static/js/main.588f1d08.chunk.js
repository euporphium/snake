(this.webpackJsonpclick=this.webpackJsonpclick||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),a=c(14),r=c.n(a),o=c(9),u=(c(20),c(3)),s=(c(21),c(2));var b=function(){return Object(s.jsxs)("main",{children:[Object(s.jsx)("h1",{children:"Select a Game"}),Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{children:Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/snake",children:"Snake"})})})})]})},j=c(13),l=c(5),O=c(15),h=c.p+"static/media/fruits.1da5ebaf.svg";function f(e){var t=e.name;return Object(s.jsx)("svg",{width:"100%",height:"100%",children:Object(s.jsx)("use",{href:"".concat(h,"#").concat(t)})})}f.Scores={apple:100,carrot:100,banana:100,pear:100,orange:250,watermelon:250,strawberry:500,grapes:1e3},f.Names=Object.keys(f.Scores),f.ProbabilityWeights=function(){var e=Object.values(f.Scores),t=e.reduce((function(e,t){return e+t}));return e.map((function(e){return t/e}))},f.Memoized=i.a.memo((function(e){var t=e.name;return Object(s.jsx)(f,{name:t})}));var d=f,v=c(7),w=c(8),m=c(1),g=c(4),p=Object(g.a)("rowCount"),x=Object(g.a)("colCount"),y=Object(g.a)("cells"),S=function(){function e(t,c){var n=this;Object(v.a)(this,e),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,x,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),this.getCellNum=function(e,t){return 0<=e&&e<Object(m.a)(n,p)[p]&&0<=t&&t<Object(m.a)(n,x)[x]?Object(m.a)(n,y)[y][e][t]:null},Object(m.a)(this,p)[p]=t,Object(m.a)(this,x)[x]=c,Object(m.a)(this,y)[y]=[];for(var i=1,a=0;a<t;a++){for(var r=[],o=0;o<c;o++)r.push(i++);Object(m.a)(this,y)[y].push(r)}}return Object(w.a)(e,[{key:"rowCount",get:function(){return Object(m.a)(this,p)[p]}},{key:"colCount",get:function(){return Object(m.a)(this,x)[x]}},{key:"cells",get:function(){return Object(m.a)(this,y)[y]}}]),e}(),k=function e(t){Object(v.a)(this,e),this.value=t,this.next=null},C=Object(g.a)("head"),D=Object(g.a)("tail"),N=Object(g.a)("board"),P=Object(g.a)("occupiedCellNums"),R=Object(g.a)("direction"),I=Object(g.a)("wrappedMode"),L=Object(g.a)("initSnake"),E=Object(g.a)("updateSnake"),F=Object(g.a)("getNext"),M=function(){function e(t,c,n){var i=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Object(v.a)(this,e),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,D,{writable:!0,value:void 0}),Object.defineProperty(this,N,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),this.reset=function(e,t){return Object(m.a)(i,L)[L](e,t)},Object.defineProperty(this,L,{writable:!0,value:function(t,c){var n=new k({row:t,col:c,cellNum:Object(m.a)(i,N)[N].getCellNum(t,c)});Object(m.a)(i,C)[C]=n,Object(m.a)(i,D)[D]=n,Object(m.a)(i,P)[P]=new Set([n.value.cellNum]),Object(m.a)(i,R)[R]=e.Direction.Right}}),Object.defineProperty(this,E,{writable:!0,value:function(e,t){var c=e.tgtRow,n=e.tgtCol,a=e.tgtCellNum,r=new k({row:c,col:n,cellNum:a});Object(m.a)(i,C)[C].next=r,Object(m.a)(i,C)[C]=r,Object(m.a)(i,P)[P].add(a),t||(Object(m.a)(i,P)[P].delete(Object(m.a)(i,D)[D].value.cellNum),Object(m.a)(i,D)[D]=Object(m.a)(i,D)[D].next)}}),Object.defineProperty(this,F,{writable:!0,value:function(){var t=Object(m.a)(i,R)[R]===e.Direction.Down?1:Object(m.a)(i,R)[R]===e.Direction.Up?-1:0,c=Object(m.a)(i,R)[R]===e.Direction.Right?1:Object(m.a)(i,R)[R]===e.Direction.Left?-1:0,n=Object(m.a)(i,C)[C].value.row+t,a=Object(m.a)(i,C)[C].value.col+c;return!Object(m.a)(i,N)[N].getCellNum(n,a)&&Object(m.a)(i,I)[I]&&(1===t?n=0:-1===t?n=Object(m.a)(i,N)[N].rowCount-1:1===c?a=0:-1===c&&(a=Object(m.a)(i,N)[N].colCount-1)),{tgtRow:n,tgtCol:a}}}),Object(m.a)(this,N)[N]=t,Object(m.a)(this,I)[I]=a,Object(m.a)(this,L)[L](c,n)}return Object(w.a)(e,[{key:"occupiedCellNums",get:function(){return Object(m.a)(this,P)[P]}},{key:"changeDirection",value:function(e){Object(m.a)(this,R)[R]=e}},{key:"move",value:function(e){var t=Object(m.a)(this,F)[F](),c=t.tgtRow,n=t.tgtCol,i=e(c,n),a=i.tgtCellNum,r=i.grow;a&&Object(m.a)(this,E)[E]({tgtRow:c,tgtCol:n,tgtCellNum:a},r)}}]),e}();M.Direction={Up:"UP",Down:"DOWN",Left:"LEFT",Right:"RIGHT"};var U=Object(g.a)("items"),T=Object(g.a)("cumulativeWeights"),_=function(){function e(t,c){if(Object(v.a)(this,e),Object.defineProperty(this,U,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),t.length!==c.length)throw new Error("Items and weights must be of the same size");if(!t.length)throw new Error("Items must not be empty");for(var n=[],i=0;i<c.length;i+=1)n[i]=c[i]+(n[i-1]||0);Object(m.a)(this,U)[U]=t,Object(m.a)(this,T)[T]=n}return Object(w.a)(e,[{key:"getRandomItem",value:function(){for(var e=Object(m.a)(this,T)[T][Object(m.a)(this,T)[T].length-1]*Math.random(),t=0;t<Object(m.a)(this,U)[U].length;t++)if(Object(m.a)(this,T)[T][t]>=e)return Object(m.a)(this,U)[U][t]}}]),e}(),z=c(12),A=c.n(z),W=A.a.mark(G);function G(e,t){return A.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Math.floor(Math.random()*(t-e+1)+e);case 3:c.next=0;break;case 5:case"end":return c.stop()}}),W)}c(24);function B(){var e=Object(n.useState)(G(1,100)),t=Object(l.a)(e,1)[0],c=Object(n.useState)(new S(10,10)),i=Object(l.a)(c,1)[0],a=Object(n.useState)(new M(i,2,2)),r=Object(l.a)(a,1)[0],o=Object(n.useState)(new _(d.Names,d.ProbabilityWeights())),u=Object(l.a)(o,1)[0],b=Object(n.useState)(u.getRandomItem()),h=Object(l.a)(b,2),f=h[0],v=h[1],w=Object(n.useState)(new Set([t.next().value])),m=Object(l.a)(w,2),g=m[0],p=m[1],x=Object(n.useState)(r.occupiedCellNums),y=Object(l.a)(x,2),k=y[0],C=y[1],D=Object(n.useState)(!1),N=Object(l.a)(D,2),P=N[0],R=N[1],I=Object(n.useState)(0),L=Object(l.a)(I,2),E=L[0],F=L[1],U=Object(O.useSwipeable)({onSwipedUp:function(){return r.changeDirection(M.Direction.Up)},onSwipedRight:function(){return r.changeDirection(M.Direction.Right)},onSwipedDown:function(){return r.changeDirection(M.Direction.Down)},onSwipedLeft:function(){return r.changeDirection(M.Direction.Left)},preventDefaultTouchmoveEvent:!0}),T=Object(n.useCallback)((function(e){var t,c="ArrowUp"===(t=e.key)?M.Direction.Up:"ArrowRight"===t?M.Direction.Right:"ArrowDown"===t?M.Direction.Down:"ArrowLeft"===t?M.Direction.Left:"";c&&r.changeDirection(c)}),[r]);function z(){R(!0)}return Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){return T(e)}))}),[T]),function(e,t){var c=Object(n.useRef)();Object(n.useEffect)((function(){c.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){c.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){r.move((function(e,c){var n=i.getCellNum(e,c);return n?k.has(n)?(z(),{}):g.has(n)?(F((function(e){return e+d.Scores[f]})),v(u.getRandomItem()),p(new Set([t.next().value])),{tgtCellNum:n,grow:!0}):{tgtCellNum:n,grow:!1}:(z(),{})})),C(new Set(r.occupiedCellNums))}),P?null:200),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("main",Object(j.a)(Object(j.a)({},U),{},{children:[Object(s.jsx)("h1",{children:"Snake"}),Object(s.jsx)("div",{className:"snake__board",children:i.cells.map((function(e,t){return Object(s.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(s.jsxs)("div",{className:"cell",children:[k.has(e)&&Object(s.jsx)(B.SnakeCell,{}),g.has(e)&&Object(s.jsx)(d.Memoized,{name:f})]},t)}))},t)}))}),Object(s.jsxs)("div",{className:"snake__score",children:["Score: ",E]}),P&&Object(s.jsx)("button",{className:"snake__btn",onClick:function(){r.reset(2,2),R(!1)},children:"Try Again"})]})),Object(s.jsx)("footer",{children:Object(s.jsx)("a",{href:"https://www.vecteezy.com/free-vector/fruit-icon",children:"Fruit Icon Vectors by Vecteezy"})})]})}B.SnakeCell=function(){return Object(s.jsx)("div",{className:"cell cell--snake"})};var J=B;c(25);var V=function(){return Object(s.jsxs)("div",{className:"app-container",children:[Object(s.jsx)("header",{children:Object(s.jsx)(o.b,{to:"/",children:"Games"})}),Object(s.jsxs)(u.c,{children:[Object(s.jsx)(u.a,{path:"/",element:Object(s.jsx)(b,{})}),Object(s.jsx)(u.a,{path:"/snake",element:Object(s.jsx)(J,{})})]})]})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,27)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),a(e),r(e)}))};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(o.a,{children:Object(s.jsx)(V,{})})}),document.getElementById("root")),H()}},[[26,1,2]]]);
//# sourceMappingURL=main.588f1d08.chunk.js.map